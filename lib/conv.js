const _0x28577e=_0x5da6;(function(_0x5a1279,_0x438534){const _0x26a9ae=_0x5da6,_0x339108=_0x5a1279();while(!![]){try{const _0x56a6d1=-parseInt(_0x26a9ae(0xf4))/0x1+parseInt(_0x26a9ae(0xee))/0x2+-parseInt(_0x26a9ae(0x113))/0x3*(-parseInt(_0x26a9ae(0x107))/0x4)+-parseInt(_0x26a9ae(0xe6))/0x5+parseInt(_0x26a9ae(0x117))/0x6+parseInt(_0x26a9ae(0xf8))/0x7*(-parseInt(_0x26a9ae(0x10b))/0x8)+parseInt(_0x26a9ae(0xe4))/0x9;if(_0x56a6d1===_0x438534)break;else _0x339108['push'](_0x339108['shift']());}catch(_0x5d1bde){_0x339108['push'](_0x339108['shift']());}}}(_0x365d,0x8540d));const ffmpeg=require(_0x28577e(0x10f)),{randomBytes}=require('crypto'),fs=require('fs'),{isUrl}=require('../utils'),{getHttpStream,toBuffer}=require('@adiwajshing/baileys'),sharp=require(_0x28577e(0xf0)),{spawn}=require(_0x28577e(0xe7)),path=require(_0x28577e(0xfd)),{fromBuffer}=require(_0x28577e(0x106));function _0x5da6(_0x3ca16d,_0x2092f2){const _0x365df5=_0x365d();return _0x5da6=function(_0x5da6b6,_0x151c75){_0x5da6b6=_0x5da6b6-0xe2;let _0x5d1a64=_0x365df5[_0x5da6b6];return _0x5d1a64;},_0x5da6(_0x3ca16d,_0x2092f2);}async function toGif(_0x29f710){const _0x23466a=_0x28577e;try{const _0x2e3d7e=_0x23466a(0xff)+randomBytes(0x3)[_0x23466a(0xf1)]('hex')+'.webp',_0x450c92=_0x23466a(0xff)+randomBytes(0x3)[_0x23466a(0xf1)](_0x23466a(0x102))+_0x23466a(0x116);fs['writeFileSync'](_0x2e3d7e,_0x29f710[_0x23466a(0xf1)]('binary'),_0x23466a(0xf9));const _0xbb8675=await new Promise(_0x201e44=>{const _0x68b579=_0x23466a;spawn(_0x68b579(0xfb),[_0x2e3d7e,_0x450c92])['on'](_0x68b579(0xed),_0x150f6c=>{throw _0x150f6c;})['on'](_0x68b579(0xef),()=>_0x201e44(_0x450c92));});let _0x3497c1=fs[_0x23466a(0xf3)](_0xbb8675);try{fs[_0x23466a(0xe9)](_0x2e3d7e),fs[_0x23466a(0xe9)](_0x450c92);}catch(_0x447e85){console['log'](_0x447e85);}return _0x3497c1;}catch(_0x5466df){console['log'](_0x5466df);}}async function toMp4(_0x5ac02a){const _0x153b66=_0x28577e;try{let _0x2ee426=_0x153b66(0x114)+randomBytes(0x3)[_0x153b66(0xf1)]('hex')+_0x153b66(0x116);const _0x521865=fs[_0x153b66(0x119)](_0x5ac02a)?_0x5ac02a:save(_0x5ac02a,_0x2ee426),_0x4adca9=_0x153b66(0x114)+randomBytes(0x3)[_0x153b66(0xf1)](_0x153b66(0x102))+_0x153b66(0xf7),_0x278a0f=await new Promise(_0x5b736e=>{const _0xae289f=_0x153b66;ffmpeg(_0x521865)[_0xae289f(0xfe)]([_0xae289f(0xeb),_0xae289f(0x10c),_0xae289f(0x11b),_0xae289f(0xf2)])['toFormat'](_0xae289f(0xf6))[_0xae289f(0xec)]()['save'](_0x4adca9)['on'](_0xae289f(0xef),()=>_0x5b736e(_0x4adca9));});let _0x380dbd=await fs[_0x153b66(0x111)][_0x153b66(0x104)](_0x278a0f);return _0x380dbd;}catch(_0x5ee455){console['log'](_0x5ee455);}}async function toAudio(_0x5a1bd4){return new Promise(async(_0x32e6c7,_0xff6d75)=>{const _0x2bf9d3=_0x5da6;try{const _0x2d6777=await toBuffer(await getHttpStream(_0x5a1bd4)),_0x35ad23=_0x2bf9d3(0x11a)+randomBytes(0x3)[_0x2bf9d3(0xf1)]('hex')+'.'+(await fromBuffer(_0x2d6777))[_0x2bf9d3(0x110)],_0x593d45=Buffer[_0x2bf9d3(0x10e)](_0x5a1bd4)?save(_0x5a1bd4,_0x35ad23):fs['existsSync'](_0x5a1bd4)?_0x5a1bd4:isUrl(_0x5a1bd4)?save(_0x2d6777,_0x35ad23):_0x5a1bd4,_0x1a4ef2=_0x2bf9d3(0x114)+randomBytes(0x3)[_0x2bf9d3(0xf1)](_0x2bf9d3(0x102))+_0x2bf9d3(0xfa),_0x175884=await new Promise(_0x298a9b=>{const _0x7826c1=_0x2bf9d3;ffmpeg(_0x593d45)[_0x7826c1(0xe2)](0xac44)[_0x7826c1(0x118)](0x2)[_0x7826c1(0xe8)](_0x7826c1(0xe3))[_0x7826c1(0xe5)]('libmp3lame')[_0x7826c1(0x105)](0x5)[_0x7826c1(0xfc)]('mp3')['save'](_0x1a4ef2)['on'](_0x7826c1(0x101),()=>_0x298a9b(_0x1a4ef2));});_0x32e6c7(_0x175884);}catch(_0x547ec2){console[_0x2bf9d3(0x108)](_0x547ec2);}});}function _0x365d(){const _0x2755ad=['-pix_fmt\x20yuv420p','noAudio','error','1846276HebTqo','exit','sharp','toString','-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27','readFileSync','453034fBXWPy','writeFileSync','mp4','.mp4','357hujysK','binary','.mp3','convert','toFormat','path','outputOptions','../temp/','exports','end','hex','save','readFile','audioQuality','file-type','4npEzJl','log','Input\x20is\x20not\x20a\x20Buffer','apulsator=hz=0.125','93848xFpcVV','-c:v\x20libx264','resize','isBuffer','fluent-ffmpeg','ext','promises','buffer','1356873OsMBnL','./temp/','contain','.gif','40020HMJVoZ','audioChannels','existsSync','./temp/video_','-movflags\x20+faststart','audioFrequency','128k','9061236zqobEM','audioCodec','3958915ZbHhBC','child_process','audioBitrate','unlinkSync','then'];_0x365d=function(){return _0x2755ad;};return _0x365d();}const EightD=async _0x4a4f1f=>{const _0x29032d=_0x28577e,_0x2cfad2=_0x29032d(0x114)+randomBytes(0x3)['toString'](_0x29032d(0x102))+_0x29032d(0xfa);_0x4a4f1f=Buffer['isBuffer'](_0x4a4f1f)?save(_0x4a4f1f,_0x2cfad2):_0x4a4f1f;const _0x2430dc=_0x29032d(0x114)+randomBytes(0x3)['toString'](_0x29032d(0x102))+_0x29032d(0xfa),_0x51918b=await new Promise(_0x57db9b=>{const _0x3c712d=_0x29032d;ffmpeg(_0x4a4f1f)['audioFilter']([_0x3c712d(0x10a)])[_0x3c712d(0xe2)](0xac44)[_0x3c712d(0x118)](0x2)[_0x3c712d(0xe8)]('128k')['audioCodec']('libmp3lame')[_0x3c712d(0x105)](0x5)[_0x3c712d(0xfc)]('mp3')[_0x3c712d(0x103)](_0x2430dc)['on'](_0x3c712d(0x101),()=>_0x57db9b(_0x2430dc));});return _0x51918b;};function save(_0x5edc7e,_0x59ac3f){const _0x49b96c=_0x28577e;try{return fs[_0x49b96c(0xf5)](_0x59ac3f,_0x5edc7e['toString'](_0x49b96c(0xf9)),_0x49b96c(0xf9)),_0x59ac3f;}catch(_0x85433c){console[_0x49b96c(0x108)](_0x85433c);}}const resizeImage=(_0x5ded4b,_0x2e09d4,_0x4f9f78)=>{const _0x391a47=_0x28577e;if(!Buffer['isBuffer'](_0x5ded4b))throw _0x391a47(0x109);return new Promise(async _0xf12e89=>{const _0x19f897=_0x391a47;sharp(_0x5ded4b)[_0x19f897(0x10d)](_0x2e09d4,_0x4f9f78,{'fit':_0x19f897(0x115)})['toBuffer']()[_0x19f897(0xea)](_0xf12e89);});},_parseInput=async(_0x305c03,_0xef5706,_0x47d304='path')=>{const _0x4ad868=_0x28577e,_0x84c9d6=await toBuffer(await getHttpStream(_0x305c03)),_0x5dac45='./temp/file_'+randomBytes(0x3)[_0x4ad868(0xf1)](_0x4ad868(0x102))+'.'+(_0xef5706?_0xef5706:(await fromBuffer(_0x84c9d6))['ext']),_0x3c76e4=Buffer[_0x4ad868(0x10e)](_0x305c03)?save(_0x305c03,_0x5dac45):fs[_0x4ad868(0x119)](_0x305c03)?_0x305c03:isUrl(_0x305c03)?save(_0x84c9d6,_0x5dac45):_0x305c03;if(_0x47d304==_0x4ad868(0xfd))return _0x3c76e4;else{if(_0x47d304==_0x4ad868(0x112)){const _0x1104a6=await fs[_0x4ad868(0x111)]['readFile'](_0x3c76e4);try{await fs[_0x4ad868(0x111)]['unlink'](_0x3c76e4);}catch(_0x766d5a){throw _0x766d5a;}return _0x1104a6;}}};module[_0x28577e(0x100)]={'toGif':toGif,'toMp4':toMp4,'toAudio':toAudio,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};